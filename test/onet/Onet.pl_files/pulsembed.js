define([],function(){"use strict";var a="pulsembed",b="1.0.6",c=location.protocol+"//pulsembed.eu",d=function(){return(""+Math.random()).substr(2)},e=function(a){if(a.contentWindow){var b=a.getBoundingClientRect(),d=0,e="undefined"!=typeof window.innerHeight?window.innerHeight:document.documentElement.clientHeight,f=b.top,g=0;g=b.height?b.height:b.bottom-b.top;var h=0;d-f>0&&(h=d-f);var i=0;g+f-d-e>0&&(i=g+f-d-e);var j=0;g-(h+i)>0&&(j=g-(h+i));var k=0;0!==g&&(k=j/g),a.contentWindow.postMessage(JSON.stringify({vis:k}),c)}},f=function(a){if("undefined"!=typeof onetAds){var b={DV:onetAds.dv,target:onetAds.target,du:onetAds.du,dr:onetAds.dr};a.contentWindow.postMessage(JSON.stringify({adsAndStats:b,url:window.location}),c)}},g=[],h=function(a){var b=a.getAttribute("data-src");if(b){var c=(a.getAttribute("data-height-hint")||"").trim();c=""===c?"1px":c;var h=a.getAttribute("data-sandbox")||"standard";a.removeAttribute("data-src"),a.removeAttribute("data-height-hint"),a.removeAttribute("data-sandbox"),a.removeAttribute("data-run-module");var i=d();a.setAttribute("data-id",i),a.style.position="relative",a.style.display="block",a.style.height=0,a.style.padding=0,a.style.overflow="hidden",a.style["padding-bottom"]=c;var j=document.createElement("iframe");j.src=b,j.setAttribute("frameborder",0),"standard"===h?j.setAttribute("sandbox","allow-forms allow-scripts allow-same-origin allow-popups"):"distrusted"===h&&j.setAttribute("sandbox","allow-forms allow-scripts allow-same-origin"),j.setAttribute("webkitallowfullscreen","webkitallowfullscreen"),j.setAttribute("mozallowfullscreen","mozallowfullscreen"),j.setAttribute("allowfullscreen","allowfullscreen"),j.style.position="absolute",j.style.top="0",j.style.bottom="0",j.style.left="0",j.style.width="100%",j.style.height="100%",j.style.border="none",j.onload=function(){f(j),e(j)},g.push({iframe:j,wrapper:a}),a.appendChild(j)}},i=function(a,b){var c,d={};a.default&&(d.default=a.default),a[b]&&(d[b]=a[b]);try{c=JSON.stringify({pulse2EmbedConfig:{config:d,url:window.location}})}catch(a){c="{}"}return c},j=function(b){var d=b.data||{};if(d[a]){for(var e,f=0;f<g.length;f++)if((g[f].iframe||{}).contentWindow===b.source){e=g[f];break}if(!e)return;if(d=d[a],d.height){var h=parseInt(d.height);e.wrapper.style.height=""+h+"px"}else if(d.loaded)for(var j=e.wrapper.childNodes,k=j.length;k>0;k--){var l=j.item(k-1);l!==e.iframe&&e.wrapper.removeChild(l)}else if(d.getConfigFor){var m={default:{}};"undefined"!=typeof pulse2EmbedConfig&&pulse2EmbedConfig&&(m=pulse2EmbedConfig);var n=i(m,d.getConfigFor);e.iframe.contentWindow.postMessage(n,c)}else if(d.addClass){var o=d.addClass;"string"==typeof o&&e.wrapper.className.indexOf(o)===-1&&(e.wrapper.className+=" "+o)}else if(d.scrollingIframe){var p=d.scrollingIframe;"string"==typeof p&&["yes","no","auto"].indexOf(p)!==-1&&(e.iframe.scrolling=p)}else if(d.expand&&d.expand.src&&d.expand.style){var q=document.getElementsByTagName("body")[0],r=document.createElement("iframe");r.setAttribute("src",""+d.expand.src),r.setAttribute("style",""+d.expand.style),r.setAttribute("allowfullscreen",""),r.setAttribute("id","pulsEmbedExpand"),q.appendChild(r),document.getElementsByTagName("html")[0].style.overflow="hidden"}}d.closeExpand&&"1"===d.closeExpand.close&&document.getElementById("pulsEmbedExpand")&&(document.getElementById("pulsEmbedExpand").remove(),document.getElementsByTagName("html")[0].style.overflow="visible")},k=function(a){for(var b=0;b<g.length;b++)e(g[b].iframe)},l=!1,m=function(a){l||(l=!0,setTimeout(function(){l=!1,k(a)},300))};return window.addEventListener?(window.addEventListener("message",j,!1),window.addEventListener("scroll",m,!1),window.addEventListener("resize",m,!1),window.addEventListener("click",k,!1)):window.attachEvent&&(window.attachEvent("onmessage",j),window.attachEvent("onscroll",m),window.attachEvent("onresize",m),window.attachEvent("onclick",k)),{init:h,version:b}});